<div class="p-6 max-w-5xl mx-auto bg-gray-100 min-h-screen">
  <!-- Botões de Idioma -->
  <div class="flex justify-start space-x-2 mb-6">
    <button
      class="px-3 py-1 rounded-md border"
      [class.bg-blue-500]="currentLang() === 'PT'"
      [class.text-white]="currentLang() === 'PT'"
      (click)="setLanguage('PT')"
    >
      Português
    </button>
    <button
      class="px-3 py-1 rounded-md border"
      [class.bg-blue-500]="currentLang() === 'EN'"
      [class.text-white]="currentLang() === 'EN'"
      (click)="setLanguage('EN')"
    >
      English
    </button>
    <button
      class="px-3 py-1 rounded-md border"
      [class.bg-blue-500]="currentLang() === 'ES'"
      [class.text-white]="currentLang() === 'ES'"
      (click)="setLanguage('ES')"
    >
      Español
    </button>
  </div>

  <div class="flex space-x-4">
    <!-- Post Content -->
    <div class="flex-1 bg-white p-6 rounded-lg shadow-md">
      <article class="overflow-hidden">
        <div class="relative">
          <img
            [src]="article().image"
            alt="iPhone 17 concept design"
            class="w-full h-64 md:h-80 object-cover"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
        </div>

        <div class="p-6 md:p-10">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight">
            {{ article().title[currentLang()] }}
          </h1>

          <div class="prose max-w-none prose-sm sm:prose-base text-justify dark:prose-invert">
            <p class="text-xl text-gray-700 mb-8 leading-relaxed font-medium">
              {{ article().excerpt[currentLang()] }}
            </p>
            <div [innerHTML]="safeContent()"></div>
          </div>
        </div>
      </article>
    </div>

    <!-- Sidebar -->
    <div class="w-80 bg-white p-4 rounded-lg shadow-md">
      <h2 class="text-lg font-semibold mb-4">Informações</h2>

      <!-- Status -->
      <div class="mb-4">
        <span class="font-medium">Status: </span>
        @if (article().status === 'PENDING') {
          <span class="text-yellow-500">Pendente</span>
        } @else {
          <span>{{ article().status }}</span>
        }
      </div>

      <!-- Datas -->
      <div class="mb-4">
        <p><span class="font-medium">Criado: </span>{{ article().date | date }}</p>
        <p><span class="font-medium">Atualizado: </span>{{ article().updated_at | date }}</p>
      </div>

      <!-- Autor -->
      <div class="mb-4"><span class="font-medium">Autor: </span>{{ article().author }}</div>

      <!-- Categoria -->
      <div class="mb-4"><span class="font-medium">Categoria: </span>{{ article().category }}</div>

      <!-- Tags -->
      <div class="mb-4">
        <span class="font-medium">Tags: </span>
        @if (article().tags.length) {
          <div class="flex flex-wrap gap-2 mt-1">
            @for (tag of article().tags; track tag) {
              <span class="bg-gray-200 text-sm px-2 py-1 rounded">{{ tag }}</span>
            }
          </div>
        } @else {
          <span>Nenhuma tag</span>
        }
      </div>

      <!-- Affiliate Links -->
      <div class="mb-4">
        <span class="font-medium">Links de Afiliados: </span>
        @if (article().affiliateLinks) {
          <div class="mt-1">
            <p>
              <a [href]="article().affiliateLinks.ES" class="text-blue-500" target="_blank"
                >Amazon ES</a
              >
            </p>
            <p>
              <a [href]="article().affiliateLinks.PT" class="text-blue-500" target="_blank"
                >Amazon PT</a
              >
            </p>
            <p>
              <a [href]="article().affiliateLinks.EN" class="text-blue-500" target="_blank"
                >Apple EN</a
              >
            </p>
          </div>
        } @else {
          <p>Nenhum link</p>
        }
      </div>
    </div>
  </div>
</div>
